(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(2544)}])},2544:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return D},default:function(){return w}});var a=s(5893),n=s(7294),i=s(1163),r=()=>{let[e,t]=(0,n.useState)("undefined"!=typeof localStorage&&localStorage.getItem("search")||""),s=(0,i.useRouter)(),r=async()=>{await s.push({query:{...s.query,search:e}})};return(0,a.jsxs)("form",{className:"search-form",onSubmit:e=>e.preventDefault(),children:[(0,a.jsx)("span",{style:{textAlign:"center",fontWeight:"bold"},children:"Write something"}),(0,a.jsx)("input",{className:"input",type:"text",placeholder:"",onChange:e=>{let s=e.target.value;localStorage.setItem("search",s),t(s)},value:e}),(0,a.jsx)("button",{type:"submit",className:"search-btn",onClick:r,children:"search"})]})},l=s(3957),o=s.n(l),c=()=>{let e=(0,i.useRouter)(),{limit:t,page:s}=e.query,r=Number(s)||1,l=Number(t)||20,[c,u]=(0,n.useState)(l),[_,d]=(0,n.useState)(!0),[h,p]=(0,n.useState)(!1),m=Math.ceil(1200/l);(0,n.useEffect)(()=>{1===r?p(!1):(d(!0),p(!0)),r===m&&d(!1)},[r,m]);let x=async()=>{c>0&&c<1200&&await e.push({query:{...e.query,limit:c,page:1}})},g=async()=>{1!==r&&await e.push({query:{...e.query,page:r-1}})},j=async()=>{r!==m&&await e.push({query:{...e.query,page:r+1}})};return(0,a.jsxs)("div",{className:o().paginationWrap,"data-tested":"pagination-wrap",children:[(0,a.jsxs)("div",{className:o().paginationBtn,children:[(0,a.jsx)("button",{disabled:!h,className:"".concat(o().knob," ").concat(h?o().active:o().inactive),onClick:g,children:(0,a.jsx)("span",{children:"<"})}),(0,a.jsx)("button",{className:"".concat(o().knob," ").concat(o().active),"data-testid":"current-page",children:s}),(0,a.jsx)("button",{disabled:!_,className:"".concat(o().knob," ").concat(_?o().active:o().inactive),onClick:j,children:(0,a.jsx)("span",{children:">"})})]}),(0,a.jsxs)("div",{className:o().setPosts,children:[(0,a.jsx)("input",{value:c,type:"number",step:"1",min:"1",max:1200,onChange:e=>{let t=Number(e.target.value);t>0&&t<1200&&u(t)}}),(0,a.jsx)("button",{onClick:x,children:"Set Posts"})]})]})},u=s(5781),_=s.n(u),d=e=>{let{error:t,posts:s}=e.cards,n=(0,i.useRouter)(),r=e=>{n.push({pathname:n.pathname,query:{...n.query,id:"".concat(e.name)}})};return(0,a.jsx)(a.Fragment,{children:t?(0,a.jsx)("h3",{style:{textAlign:"center",marginTop:"50px"},children:"No posts found!"}):(0,a.jsxs)("div",{className:_().wrap,children:[(0,a.jsx)("h2",{style:{textAlign:"center"},children:"List"}),(0,a.jsx)("div",{className:_().list,children:s.map(e=>(0,a.jsxs)("div",{className:_().list__element,children:[(0,a.jsxs)("p",{className:_().list__name,children:[" ",e.name]}),(0,a.jsx)("button",{className:_().btnDetail,onClick:()=>{r(e)},children:"Details"})]},e.name))})]})})},h=s(5846),p=s.n(h),m=s(1165),x=s(5272),g=s.n(x),j=()=>(0,a.jsx)("div",{className:g().loading,children:(0,a.jsx)("div",{className:g().text,children:"Loading..."})}),v=()=>{var e,t,s,n;let r=(0,i.useRouter)(),l=null==r?void 0:null===(t=r.query)||void 0===t?void 0:null===(e=t.id)||void 0===e?void 0:e.toString(),o=null==r?void 0:null===(n=r.query)||void 0===n?void 0:null===(s=n.page)||void 0===s?void 0:s.toString(),{data:c,isLoading:u}=(0,m.UY)(l||"");function _(){r.push({pathname:"",query:{page:o}})}return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:_,className:p().blackout}),(0,a.jsx)("div",{className:p().postDetailWrap,children:(0,a.jsxs)("div",{className:p().postDetail,children:[u&&(0,a.jsx)(j,{}),c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h4",{className:p().name,children:c.name}),(0,a.jsxs)("div",{children:[(0,a.jsx)("img",{src:c.sprites.front_default,alt:"front"}),(0,a.jsx)("img",{src:c.sprites.back_default,alt:"back"}),(0,a.jsx)("img",{src:c.sprites.front_shiny,alt:"shiny"})]}),(0,a.jsxs)("p",{children:["Height: ",c.height]}),(0,a.jsxs)("p",{children:["Weight: ",c.weight]}),(0,a.jsx)("button",{className:p().btnClose,onClick:_,children:"Close"})]})]})})]})},b=s(5541),N=s.n(b),f=s(9370),y=s.n(f),P=()=>{let[e,t]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(e)throw Error("Test error")},[e]),(0,a.jsx)("button",{className:y().errorBtn,onClick:()=>{t(!0)},children:"Generate Error"})},k=e=>{let{cards:t}=e,s=(0,i.useRouter)(),{search:n,id:l}=s.query,{loading:o}=t;return(0,a.jsxs)("div",{className:N().wrap,children:[(0,a.jsxs)("div",{className:N().main,children:[(0,a.jsxs)("div",{className:N().header,children:[(0,a.jsx)(r,{}),(0,a.jsx)(P,{})]}),o?(0,a.jsx)(j,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{cards:t}),!n&&(0,a.jsx)(c,{})]})]}),l&&(0,a.jsx)(v,{})]})},D=!0,w=e=>{let{data:t}=e,{cards:s}=t;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k,{cards:s})})}},5272:function(e){e.exports={loading:"Loading_loading__VFx_F",text:"Loading_text__B_QEi"}},5541:function(e){e.exports={wrap:"Main_wrap__WF0Lb",main:"Main_main__TDSeF",header:"Main_header__dv0UP"}},3957:function(e){e.exports={paginationWrap:"Pagination_paginationWrap__cd8_N",paginationBtn:"Pagination_paginationBtn__GLUqY",setPosts:"Pagination_setPosts__Oo_l9",knob:"Pagination_knob__1MZ2r",inactive:"Pagination_inactive__xv3JJ",active:"Pagination_active__WEV9D"}},5846:function(e){e.exports={postDetailWrap:"PostDetail_postDetailWrap__SohI3","fade-in":"PostDetail_fade-in__Bfxko",postDetail:"PostDetail_postDetail__raSJb",name:"PostDetail_name__HOQBA",btnClose:"PostDetail_btnClose__vEICl",blackout:"PostDetail_blackout__M32rW"}},5781:function(e){e.exports={wrap:"PostList_wrap___sz47",list:"PostList_list__6Dd8_",list__element:"PostList_list__element__t13P8",list__name:"PostList_list__name__B3T3Y",btnDetail:"PostList_btnDetail__A1qNm"}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);